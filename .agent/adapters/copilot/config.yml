name: copilot-cli
description: GitHub Copilot CLI adapter

capabilities:
  hooks: [sessionStart, sessionEnd, preToolUse]
  mcp: true
  skills: false
  rules: true

sync:
  agents_md:
    target: AGENTS.md
    action: none

  rules:
    target: .github/copilot-instructions.md
    action: concatenate
    source: .agent/rules/
    glob: "*.md"

  hooks_config:
    target: .github/hooks/config.json
    action: pointer
    content: |
      {"adapter": "copilot", "supermemory": {"enabled": true}}

  hooks_json:
    target: .github/hooks/hooks.json
    action: pointer
    content: |
      {
        "version": 1,
        "hooks": {
          "sessionStart": [{"type": "command", "bash": "python3 .github/hooks/session_start.py"}],
          "sessionEnd": [{"type": "command", "bash": "python3 .github/hooks/session_end.py"}],
          "preToolUse": [{"type": "command", "bash": "python3 .github/hooks/pre_tool_use.py"}]
        }
      }

  hooks:
    target: .github/hooks/
    action: copy
    source: .agent/hooks/
    glob: "*.py"

  lib:
    target: .github/lib/
    action: copy
    source: .agent/lib/
    glob: "*.py"
