name: copilot-cli
description: GitHub Copilot CLI adapter

capabilities:
  hooks: [sessionStart, sessionEnd, preToolUse]
  mcp: true
  skills: false
  rules: true

sync:
  agents_md:
    target: AGENTS.md
    action: none

  rules:
    target: .github/copilot-instructions.md
    action: concatenate
    source: .agent/rules/
    glob: "*.md"

  hooks_config:
    target: .github/hooks/config.json
    action: pointer
    content: |
      {"adapter": "copilot", "supermemory": {"enabled": true}}

  hooks:
    target: .github/hooks/
    action: copy
    source: .agent/hooks/
    glob: "*.py"
    mapping:
      session_start.py: sessionStart
      session_end.py: sessionEnd
      pre_tool_use.py: preToolUse

  lib:
    target: .github/lib/
    action: copy
    source: .agent/lib/
    glob: "*.py"
